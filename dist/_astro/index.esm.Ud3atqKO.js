import{R as k,r as b}from"./index.CK_NLgOy.js";import{h as E,l as v,n as O}from"./AppWrapper.zDZi0IY6.js";function w(t,e=[]){const a=Object.assign({},t);for(const r of e)r in a&&delete a[r];return a}function y(t){const{loading:e,src:a,srcSet:r,onLoad:n,onError:i,crossOrigin:s,sizes:g,ignoreFallback:f}=t,[c,m]=b.useState("pending");b.useEffect(()=>{m(a?"loading":"pending")},[a]);const l=b.useRef(),h=b.useCallback(()=>{if(!a)return;d();const o=new Image;o.src=a,s&&(o.crossOrigin=s),r&&(o.srcset=r),g&&(o.sizes=g),e&&(o.loading=e),o.onload=u=>{d(),m("loaded"),n?.(u)},o.onerror=u=>{d(),m("failed"),i?.(u)},l.current=o},[a,s,r,g,n,i,e]),d=()=>{l.current&&(l.current.onload=null,l.current.onerror=null,l.current=null)};return O(()=>{if(!f)return c==="loading"&&h(),()=>{d()}},[c,h,f]),f?"loaded":c}var L=(t,e)=>t!=="loaded"&&e==="beforeLoadOrError"||t==="failed"&&e==="onError",I=E(function(e,a){const{htmlWidth:r,htmlHeight:n,alt:i,...s}=e;return k.createElement("img",{width:r,height:n,ref:a,alt:i,...s})});I.displayName="NativeImage";var R=E(function(e,a){const{fallbackSrc:r,fallback:n,src:i,srcSet:s,align:g,fit:f,loading:c,ignoreFallback:m,crossOrigin:l,fallbackStrategy:h="beforeLoadOrError",referrerPolicy:d,...o}=e,u=r!==void 0||n!==void 0,p=c!=null||m||!u,N=y({...e,ignoreFallback:p}),S=L(N,h),F={ref:a,objectFit:f,objectPosition:g,...p?o:w(o,["onError","onLoad"])};return S?n||k.createElement(v.img,{as:I,className:"chakra-image__placeholder",src:r,...F}):k.createElement(v.img,{as:I,src:i,srcSet:s,crossOrigin:l,loading:c,referrerPolicy:d,className:"chakra-image",...F})});R.displayName="Image";E((t,e)=>k.createElement(v.img,{ref:e,as:I,className:"chakra-image",...t}));export{R as I};
